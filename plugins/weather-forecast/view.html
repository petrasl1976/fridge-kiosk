{% if plugin['data'] and plugin['data'].daily %}
<div class="weather-forecast" style="
    --font-size: {{ plugin['config'].format.font_size }};
    --text-color: {{ plugin['config'].format.color }};
    --padding: {{ plugin['config'].format.padding }};
">
    {% if plugin['data'].current %}
    <div class="weather-current">
        <div class="date">Now: {{ plugin['data'].current.forecastTimeUtc|string|slice(11, 16) }}</div>
        <div class="temp">
            <div class="max">{{ plugin['data'].current.temperature|round|int }}째 ({{ plugin['data'].current.feelsLike|round|int }}째)</div>
            <div class="max">{{ plugin['data'].current.windSpeed }} m/s {{ plugin['data'].current.precipitation }} mm</div>
            <div class="max">{{ plugin['data'].current.pressure }} hPa - {{ plugin['data'].current.humidity }}%</div>
        </div>
    </div>
    <div class="divider"></div>
    {% endif %}
    
    {% for day in plugin['data'].daily %}
    <div class="weather-day">
        <div class="date">{{ day.dt|datetime_fromtimestamp|strftime('%a') }}</div>
        <div class="temp">
            <span class="max">{{ day.main.temp_max|round|int }}째</span>
            <span class="min">{{ day.main.temp_min|round|int }}째</span>
        </div>
        <div class="condition">
            <img src="/plugins/weather-forecast/icons/{{ day.weather[0].description }}.png" 
                 alt="{{ day.weather[0].description }}"
                 onerror="this.src='/plugins/weather-forecast/icons/clear.png'">
        </div>
    </div>
    {% endfor %}
</div>
{% endif %} 